<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <title>${(metadata.alias)!}</title>
        <@_includePlace path="/8ddab9ba-a8aa-4745-86c6-66bf1c2c976c.html"/> <#-- header -->
    </head>
    <body>
        <@_includePlace path="/c32a4f4a-ff5d-49cf-bb59-5d9784539174.html"/> <#-- 导航 -->

        <div class="banner-l3 position-relative d-flex align-items-center justify-content-center" style="background:#22407c url(${site.sitePath}assets/img/banner-l3-bg-1.png) 50% 50% no-repeat;">
            <div class="container text-center position-relative py-3 py-md-4 text-white">
                <div class="breadcrumbs fs-7 text-white d-inline-flex align-items-center text-opacity-50">
                    <a href="${site.sitePath}">首页</a>
                    &gt; <a href="${site.dynamicPath}myComment.html" data-id="member">${(metadata.alias)!}</a>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row gx-5 justify-content-between my-5">
                <@_includePlace path="/c936c718-5f19-426f-b3ff-13a5a8d63044.html"/> <#-- 个人中心导航 -->
                <div class="col-md-9">
                    <div class="ps-4">
                        <@import path="/ftl/tools.ftl" namespace="t"/><#-- 工具 -->
                        <div class="comment-box">
                            <h3>我的评论</h3>
                            <@_commentList advanced=true userId=user.id pageIndex=pageIndex pageSize=10>
                            <ul>
                                <#list page.list as a>
                                    <@t.merge 'userIds' a.replyUserId!/>
                                    <@t.merge 'contentIds' a.contentId!/>
                                </#list>
                                <@_sysUser ids=t.userIds!><#assign userMap=map!/></@_sysUser>
                                <@_content ids=t.contentIds!><#assign contentMap=map!/></@_content>
                                <#list page.list as a>
                                    <li class="underline">
                                        <p>${a.createDate} 评论《<a href="${contentMap[a.contentId?string].url}" target="_blank">${contentMap[a.contentId?string].title}</a>》<span class="float-right">[<@t.m 'page.status.content.'+a.status/>]<a href="comment.html?id=${a.id}&contentId=${a.contentId}">编辑</a></span></p>
                                        <#if a.replyId?has_content>
                                            <@_comment id=a.replyId>
                                        <p class="reply"><a href="${site.dynamicPath}user.html?id=${a.replyUserId!}" target="_blank">@${(userMap[a.replyUserId?string].nickName)!}</a> : ${object.text!}</p>
                                            </@_comment>
                                        </#if>
                                        <p>${a.text!}</p>
                                    </li>
                                <#else>
                                <li class="underline"><p>没有数据</p></li>
                                </#list>
                            </ul>
                            <ul class="pagination mt-5">
                                <#assign
                                start=1
                                end=page.totalPage
                                />
                                <#if (page.pageIndex-5) gt start>
                                <#assign start=page.pageIndex-4/>
                                </#if>
                                <#if (page.pageIndex+5) lt end>
                                <#assign end=page.pageIndex+4/>
                                </#if>
                                <#if !page.firstPage>
                                <a href="${getPage('myComment.html',page.prePage,'pageIndex')}">上一页</a>
                                <#else>
                                <span>上一页</span>
                                </#if>
                                <#if start gt 1>
                                <a href="${'myComment.html'}">1</a> ...
                                </#if>
                                <#list start..end as n>
                                <a href="${getPage('myComment.html',n,'pageIndex')}"${(n=page.pageIndex)?then(' class="selected"'?no_esc,'')}>${n}</a>
                                </#list>
                                <#if end lt page.totalPage>
                                ... <a href="${getPage('myComment.html',page.totalPage,'pageIndex')}">${page.totalPage}</a>
                                </#if>
                                <#if !page.lastPage>
                                <a href="${getPage('myComment.html',page.nextPage,'pageIndex')}">下一页</a>
                                <#else>
                                <span>下一页</span>
                                </#if>
                            </ul>
                            </@_commentList>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <@_includePlace path="/7f8bacb5-30ca-4641-b66f-987d447b1a85.html"/> <#-- footer -->
    </body>
</html>